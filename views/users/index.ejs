<% include ../partials/header %>
<div class="container">
    <div class="row">
        <div class="col">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th></th>
                        <th>Username</th>
                        <th>Email</th>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Role</th>
                        <th>Status</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <% if (users) { %>
                    <% users.forEach((user, i) => { %>
                    <tr class="<% if (user.isAdmin) { %> table-warning <% } %> ">
                        <th scope="row">
                            <%= i+1 %>
                        </th>
                        <td><a href="/users/<%= user._id %>" class="badge badge-light">
                                <%= user.username %></a></td>
                        <td>
                            <%= user.email %>
                        </td>
                        <td>
                            <%= user.firstName %>
                        </td>
                        <td>
                            <%= user.lastName %>
                        </td>
                        <td>
                            <%= user.isAdmin ? `Administrator` : `Regular User` %>
                        </td>
                        <td>
                            <%= user.enabled || user.enabled === undefined ? 'Enabled' : 'Disabled' %>
                        </td>
                        <td><a href="/users/<%= user._id %>/edit" class="edit-user-link"><i class="fas fa-user-edit"></i></a></td>
                        <td><a href="/users/<%= user._id %>" class="view-user-link"><i class="fas fa-eye"></i></a></td>
                    </tr>
                    <% }) %>
                    <% } %>
                </tbody>
            </table>
        </div>
    </div>
</div>


<% include ../partials/footer %>